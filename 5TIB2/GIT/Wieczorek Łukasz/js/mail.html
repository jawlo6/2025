<h3>Kontrola adresu mailowego</h3>

<form action="write2DB.php" method="post">
    <label for="fname">Podaj adres email</label>
    <input type="text" name="fname" id="mail">
    <input type="submit" value="Wyślij" id="send">
</form>

<p id="wynik"></p>

<script>
    document.querySelector("#send").addEventListener("click", checkMail);

    function checkMail(event) {
        event.preventDefault();

        var mailText = document.querySelector("#mail").value.trim();

        var reg_email = /^[\w.-]+@([A-Za-z0-9-]+\.)+[A-Za-z]{2,}$/;
        var wynikEl = document.querySelector("#wynik");

        if (mailText === "") {
            wynikEl.textContent = "Pole nie może być puste";
            wynikEl.style.color = "orange";
            return;
        }

        if (reg_email.test(mailText)) {
            wynikEl.textContent = "Poprawny mail";
            wynikEl.style.color = "green";
        } else {
            wynikEl.textContent = "Niepoprawny mail";
            wynikEl.style.color = "red";
        }
    }
</script>